<head>
	<style>
#demo-container {
	width: 400px;
	margin: 40px auto 40px auto;
}

#download-button {
	background-color: white;
	color: #2980b9;
	border: 2px solid #2980b9;
	font-family: inherit;
	outline: none;
	min-width: 100px;
	padding: 10px;
	border-radius: 2px;
	cursor: pointer;
	display: block;
	margin: 0 auto;
}

#start-download {
	text-align: center;
	display: none;
}

#download-progress-container {
	border: 1px solid #cccccc;
	padding: 4px;
	display: none;
	height: 30px;
}

#download-progress {
	background-color: #2980b9;
	display: inline-block;
	height: 100%;
}

#save-file {
	color: #2980b9;
	text-decoration: none;
	display: none;
	text-align: center;
}

#save-file:hover {
	text-decoration: underline;
}
	</style>
	<script>
var _OBJECT_URL;

// Call an AJAX
document.querySelector('#download-button').addEventListener('click', function() {
	var request = new XMLHttpRequest();
    
    request.addEventListener('readystatechange', function(e) {
    	if(request.readyState == 2 && request.status == 200) {
    		// Download is being started
    	}
    	else if(request.readyState == 3) {
    		// Download is under progress
    	}
    	else if(request.readyState == 4) {
    		// Downloaing has finished

    		_OBJECT_URL = URL.createObjectURL(request.response);

    		// Set href as a local object URL
    		document.querySelector('#save-file').setAttribute('href', _OBJECT_URL);
    		
    		// Set name of download
    		document.querySelector('#save-file').setAttribute('download', 'download/§4Unfair\ §EDon\'t\ §6Take\ §CDamage§7.zip');
    		
    		// Recommended : Revoke the object URL after some time to free up resources
    		// There is no way to find out whether user finished downloading
    		setTimeout(function() {
    			window.URL.revokeObjectURL(_OBJECT_URL);
    		}, 60*1000);
    	}
    });
    
    request.addEventListener('progress', function(e) {
    	var percent_complete = (e.loaded / e.total)*100;
    	console.log(percent_complete);
    });
    
    request.responseType = 'blob';
    
    // Downloading a JPEG file
    request.open('get', 'download/§4Unfair\ §EDon\'t\ §6Take\ §CDamage§7.zip'); 
    
    request.send(); 
});
	</script>
</head>

<body>
<div id="demo-container">
	<button id="download-button">Download</button>
	<div id="download-ui-container">
		<div id="start-download">Starting Download..</div>
		<div id="download-progress-container"><div id="download-progress"></div></div>
		<a id="save-file">Save File</a>
	</div>
</div>
</body>
